<main>
    <!-- <h2>Procure pelo melhor imóvel na sua região</h2> -->
    <section class="immobiles container">
        <div>
            <div class="filter">
                <div class="input-box">
                    <label for="search-for">Procurando por</label>
                    <input [(ngModel)]="searchFor" type="text" name="search-for" id="search-for" placeholder="O que procurar">
                </div>
                <div class="input-box">
                    <label for="search-for">Tipo</label>
                    <select name="type" [(ngModel)]="type" id="type">
                        <option value="">Tipo de propriedade</option>
                        <option value="Residencial">Residencial</option>
                        <option value="Condominio">Condominio</option>
                    </select>
                </div>
                <div class="input-box">
                    <label for="price">Preço</label>
                    <input type="number" [(ngModel)]="price" name="price" id="price" placeholder="Preço">
                </div>
                <div class="input-box">
                    <label for="location">Localização</label>
                    <select name="location" [(ngModel)]="location" id="location">
                        <option value="">Todas as cidades</option>
                        @for(item of immobiles; track item) {
                            <option value={{item.location}}>{{item.location}}</option>
                        }
                    </select>
                </div>
                <button (click)="applyFilter()">
                    <fa-icon [icon]="faSearch"></fa-icon>
                    Pesquisar
                </button>
            </div>
            <div class="immobiles-container scrollDontShow">
                @for(item of immobiles; track item) {
                <a href="/imoveis/{{item.id}}" class="immobile-box">
                    <img ngSrc={{item.img}} width="300" height="200" alt="foto do imóvel">
                    <div class="info-box">
                        <h2>{{item.title}}</h2>
                        <div class="location-box">
                            <fa-icon class="icon" [icon]="faMapMarker" />
                            <h3>{{item.location}}</h3>
                        </div>
                        <p>{{ item.description?.slice(0, 150) }}{{ item.description?.length > 150 ? '...' : '' }}</p>
                        <span class="price">R$:1500,00</span>
                        <div class="immobile-services">
                            <div class="box">
                                <fa-icon class="icon" [icon]="faBed" />
                                <h6>{{item.bedNumbers}} quartos</h6>
                            </div>
                            <div class="box">
                                <fa-icon class="icon" [icon]="faBath" />
                                <h6>{{item.bathNumbers}} banheiros</h6>
                            </div>
                            <div class="box">
                                <fa-icon class="icon" [icon]="faVectorSquare" />
                                <h6>Area total {{item.propertySize}}m²</h6>
                            </div>
                        </div>
                    </div>
                </a>
                }
            </div>
        </div>
        @for(item of immobiles; track item) {
            <app-map [latitude]="item.latitude" [longitude]="item.longitude" [title]="item.title" style="max-width: 400px; width: 100%;"></app-map>
        }
    </section>
</main>
